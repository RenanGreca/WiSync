\chapter{Implementação}
\label{Implementacao}
Neste capítulo, será descrita a implementação do \textbf{WiSync} para este trabalho.

A versão do \textbf{WiSync} entregue com este texto foi escrita em Python \cite{python}, versão 2.7, linguagem de programação interpretada originalmente lançada em 1991. Python foi escolhida por sua facilidade na implementação e extensa disponibilidade de bibliotecas de código aberto.

Originalmente, havia como objetivo tornar o programa compatível com os três sistemas operacionais mais comuns do mundo: Microsoft Windows, Apple OS X e Linux. Contudo, devido a diferenças inerentes na forma como o Windows funciona, optou-se por manter apenas compatibilidade com OS X e Linux. Para tal, foram usados os seguintes computadores de teste:

\begin{center}
  \begin{tabular}{ l | l | l }
    \hline
    \textbf{Nome} & ``SgtPepper'' & ``Packard'' \\ \hline \hline
    Sistema Operacional & OS X 10.10 & Linux Mint 17 \\ \hline
    Processador & Intel Core i5-4308U & Intel Core i7-2600 \\ \hline
    RAM & 8GB DDR3L & 8GB DDR3 \\ \hline
    Conectividade & Wi-fi 802.11n 5GHz & Cabo Ethernet \\ \hline
    IP local & 192.168.1.110 & 192.168.1.132 \\
    \hline
  \end{tabular}
\end{center}

\section{Organização do Programa}
Na versão atual, o WiSync é composto por três arquivos: \texttt{wisync.py}, \texttt{winet.py} e \texttt{wifiles.py}. Abaixo estão as funcionalidades de cada um:
\begin{itemize}
	\item \texttt{wisync.py}: Arquivo principal do projeto, responsável por ler os parâmetros da linha de comando e controlar a execução do processo.
	\item \texttt{winet.py}: Contém a classe WiNet, que inclui os métodos e atributos necessários para fazer as partes em rede do programa, como hospedar e receber arquivos.
	\item \texttt{wifiles.py}: Contém a classe WiFiles, que inclui os métodos e atributos necessários fazer as partes que lidam com o sistema de arquivos do programa, como ler e comparar diretórios.
\end{itemize}

Para executar o \textbf{WiSync}, são necessárias algumas bibliotecas padrão do Python: \texttt{os}, \texttt{sys}, \texttt{argparse}, \texttt{time}, \texttt{json}, \texttt{datetime}. Também é usada uma versão modificada do programa \texttt{woof.py} \cite{woof} (distribuída sob a licença GNU General Public License), que é usada na hora de transmitir os arquivos entre os computadores.

\section{Sobre a Transmissão dos Arquivos}
A primeira etapa do desenvolvimento do programa foi definir o método e protocolo que seriam usados na hora de transmitir arquivos entre os computadores. Após alguma pesquisa, quatro alternativas foram consideradas: sockets via TCP, FTP, SCP e HTTP.